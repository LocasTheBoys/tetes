-- Menyimpan koordinat saat unit ditempatkan
local unitPosition1 = Vector3.new(-14615.796875, 703.63525390625, -1542.5489501953125)
local unitPosition2 = Vector3.new(-14614.7529296875, 703.63525390625, -1512.430908203125)

-- Tempatkan unit pertama
local args1 = {
    [1] = "Grand Master",
    [2] = CFrame.new(unitPosition1) * CFrame.Angles(0, 0, 0)
}
game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.7.0").knit.Services.UnitService.RF.PlaceUnit:InvokeServer(unpack(args1))

-- Tempatkan unit kedua
local args2 = {
    [1] = "Grand Master",
    [2] = CFrame.new(unitPosition2) * CFrame.Angles(0, 0, 0)
}
game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.7.0").knit.Services.UnitService.RF.PlaceUnit:InvokeServer(unpack(args2))

-- Tunggu beberapa detik agar unit ditempatkan
task.wait(2)

-- Coba temukan unit berdasarkan koordinat yang telah disimpan
local function findUnitByPosition(position)
    for _, unit in pairs(workspace.Game.Map.PlacedUnits:GetChildren()) do
        -- Gunakan PrimaryPart untuk memastikan kita mendapatkan posisinya
        if unit:FindFirstChild("PrimaryPart") and (unit.PrimaryPart.Position - position).magnitude < 1 then
            return unit
        end
    end
    return nil
end

-- Temukan unit pertama dan kedua berdasarkan posisi mereka
local unit1 = findUnitByPosition(unitPosition1)
local unit2 = findUnitByPosition(unitPosition2)

-- Upgrade unit pertama
if unit1 then
    local upgradeArgs1 = {
        [1] = unit1
    }
    game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.7.0").knit.Services.UnitService.RF.UpgradeUnit:InvokeServer(unpack(upgradeArgs1))
    print("Unit pertama berhasil diupgrade: ", unit1.Name)
else
    print("Unit pertama tidak ditemukan")
end

-- Upgrade unit kedua
if unit2 then
    local upgradeArgs2 = {
        [1] = unit2
    }
    game:GetService("ReplicatedStorage").Packages._Index:FindFirstChild("sleitnick_knit@1.7.0").knit.Services.UnitService.RF.UpgradeUnit:InvokeServer(unpack(upgradeArgs2))
    print("Unit kedua berhasil diupgrade: ", unit2.Name)
else
    print("Unit kedua tidak ditemukan")
end
